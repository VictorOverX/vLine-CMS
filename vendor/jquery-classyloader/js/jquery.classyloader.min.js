!function(e){e.fn.ClassyLoader=function(t){t=e.extend({},{width:200,height:200,animate:!0,displayOnLoad:!0,percentage:100,speed:1,roundedLine:!1,showRemaining:!0,fontFamily:"Helvetica",fontSize:"50px",showText:!0,diameter:80,fontColor:"rgba(25, 25, 25, 0.6)",lineColor:"rgba(55, 55, 55, 1)",remainingLineColor:"rgba(55, 55, 55, 0.4)",lineWidth:5,start:"left"},t);var i=e(this);return this.draw=function(e){"undefined"!=typeof e&&(t.percentage=e);var n=i[0].getContext("2d"),o=i.width()/2,r=i.height()/2,a=0,h=0;n.scale(1,1),n.lineWidth=t.lineWidth,n.strokeStyle=t.lineColour,setTimeout(function l(){var e=Math.PI/180*360/100*(a+1),e=e||Math.PI/180*360/100*(a+1);switch(n.clearRect(0,0,i.width(),i.height()),!0===t.showRemaining&&(n.beginPath(),n.strokeStyle=t.remainingLineColor,n.arc(o,r,t.diameter,0,360),n.stroke(),n.closePath()),n.strokeStyle=t.lineColor,n.beginPath(),n.lineCap=!0===t.roundedLine?"round":"butt",t.start){case"top":h=1.5*Math.PI;break;case"bottom":h=.5*Math.PI;break;case"right":h=1*Math.PI;break;default:h=0}n.arc(o,r,t.diameter,h,e+h),n.stroke(),n.closePath(),!0===t.showText&&(n.fillStyle=t.fontColor,n.font=t.fontSize+" "+t.fontFamily,n.textAlign="center",n.textBaseline="middle",n.fillText(a+1+"%",o,r)),a+=1,a<t.percentage&&setTimeout(l,t.speed)},t.speed)},this.setPercent=function(e){return t.percentage=e,this},this.getPercent=function(){return t.percentage},this.show=function(){var e=i[0].getContext("2d"),n=i.width()/2,o=i.height()/2;e.scale(1,1),e.lineWidth=t.lineWidth,e.strokeStyle=t.lineColour,e.clearRect(0,0,i.width(),i.height()),e.strokeStyle=t.lineColor,e.beginPath(),e.arc(n,o,t.diameter,0,Math.PI/180*(t.percentage/100)*360),e.stroke(),e.closePath(),!0===t.showText&&(e.fillStyle=t.fontColor,e.font=t.fontSize+" "+t.font,e.textAlign="center",e.textBaseline="middle",e.fillText(t.percentage+"%",n,o)),!0===t.showRemaining&&(e.beginPath(),e.strokeStyle=t.remainingLineColor,e.arc(n,o,t.diameter,0,360),e.stroke(),e.closePath())},this.__constructor=function(){return e(this).attr("width",t.width),e(this).attr("height",t.height),!0===t.displayOnLoad&&(!0===t.animate?this.draw():this.show()),this},this.__constructor()}}(jQuery);